# item 41. μ •μν•λ ¤λ” κ²ƒμ΄ νƒ€μ…μ΄λΌλ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•λΌ

<aside>
π’΅ λ§μ»¤ μ• λ„ν…μ΄μ… λ€μ‹  λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ” κ²½μ°μ— λ€ν•΄ μ•μ•„λ³΄κ³  κ·Έ λ‘μ„ λΉ„κµν•΄λ³΄μ

</aside>

### λ§μ»¤ μΈν„°νμ΄μ¤

μ•„λ¬΄ λ©”μ„λ“λ„ λ‹΄κ³  μμ§€ μ•κ³ , λ‹¨μ§€ μμ‹ μ„ κµ¬ν„ν•λ” ν΄λμ¤κ°€ νΉμ • μ†μ„±μ„ κ°€μ§μ„ ν‘μ‹ν•΄μ£Όλ” μΈν„°νμ΄μ¤λ¥Ό λ§μ»¤ μΈν„°νμ΄μ¤λΌκ³  ν•λ‹¤.

λ€ν‘μ μΈ μκ°€ `Serializable` μΈν„°νμ΄μ¤κ°€ μλ‹¤.

`Serializable` μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„(implements)ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ” `ObjectOutputStream`μ„ ν†µν•΄ μ“Έ(write)ν•  μ μλ‹¤κ³ , μ¦‰ μ§λ ¬ν™” ν•  μ μλ‹¤κ³  μ•λ ¤μ¤€λ‹¤.

### λ§μ»¤ μΈν„°νμ΄μ¤κ°€ λ§μ»¤ μ• λ„ν…μ΄μ…λ³΄λ‹¤ λ‚μ€μ 

1. **λ§μ»¤ μΈν„°νμ΄μ¤λ” μ΄λ¥Ό κµ¬ν„ν• ν΄λμ¤μ μΈμ¤ν„΄μ¤λ“¤μ„ κµ¬λ¶„ν•λ” νƒ€μ…μΌλ΅ μ“Έ μ μμΌλ‚, λ§μ»¤ μ• λ„ν…μ΄μ…μ€ κ·Έλ ‡μ§€ μ•λ‹¤.**
    
    λ§μ»¤ μΈν„°νμ΄μ¤λ” μ–΄μ—Ών• νƒ€μ…μ΄κΈ° λ•λ¬Έμ—, λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ‚¬μ©ν–λ‹¤λ©΄ λ°νƒ€μ„μ— λ°κ²¬λ  μ¤λ¥λ¥Ό μ»΄νμΌ νƒ€μ„μ— μ΅μ„ μ μλ‹¤.
    
    μ•νƒ€κΉκ²λ„ `ObjectOutputStream` μ writeObjectλ©”μ„λ“μ—μ„λ”  `Serializable` μ΄ μ•„λ‹ `Object` κ°μ²΄λ¥Ό λ°›κ² λμ–΄ μλ‹¤.
    
    μ¦‰, μ§λ ¬ν™” ν•  μ μ—†λ” κ°μ²΄λ¥Ό λ„κ²¨λ„ λ°νƒ€μ„μ—μ•Ό λ¬Έμ λ¥Ό ν™•μΈ ν•  μ μλ‹¤.
    
    β‡’ λ§μ»¤ μΈν„°νμ΄μ¤μ μ¥μ μ„ μ‚΄λ¦¬μ§€ λ»ν•¨

   ![Untitled](https://user-images.githubusercontent.com/49682056/229586076-3d6fa4fc-902a-4486-970e-c26f273de9b2.png)

2. **μ μ© λ€μƒμ„ λ” μ •λ°€ν•κ² μ§€μ •ν•  μ μλ‹¤.**
    
    λ§μ»¤ μ• λ„ν…μ΄μ…μ κ²½μ° μ μ© λ€μƒ(@Target)μ„ Element.TYPEμΌλ΅ μ„ μ–Έν• μ• λ„ν…μ΄μ…μ€ λ¨λ“  νƒ€μ…(ν΄λμ¤, μΈν„°νμ΄μ¤, μ—΄κ±°νƒ€μ…, μ• λ„ν…μ΄μ…)μ— λ‹¬ μ μλ‹¤.
    
    μ¦‰, μ μ©λ€μƒμ„ μΆνλ” λ° ν•κ³„κ°€ μκ³  μ„Έλ°€ν•κ² μ ν•ν•μ§€ λ»ν•λ‹¤. 
    
    νΉμ • μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• ν΄λμ¤μ—λ§ μ μ©ν•κ³  μ‹¶μ€ λ§μ»¤κ°€ μλ‹¤λ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ΅ κµ¬ν„ν•μ—¬ λ§ν‚Ήν•κ³  μ‹¶μ€ ν΄λμ¤μ—μ„λ§ κ·Έ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ©΄ λλ‹¤.
    

νΉμ • μΈν„°νμ΄μ¤μ ν•μ„ νƒ€μ…μ—λ§ μ μ©ν•  μ μμΌλ©°, μ•„λ¬΄ κ·μ•½μ—λ„ μ†λ€μ§€ μ•μ€ λ§μ»¤ μΈν„°νμ΄μ¤λ” μ¶©λ¶„ν μμμ§ν•λ‹¤.

μ΄λ° λ§μ»¤ μΈν„°νμ΄μ¤λ” λ‹¤λ¥Έ ν΄λμ¤μ νΉμ • λ©”μ„λ“λ¥Ό μ²λ¦¬ν•  μ μλ‹¤λ” μ‚¬μ‹¤μ„ λ…μ‹ν•λ” μ©λ„λ΅ μ‚¬μ©ν•  μ μμ„ κ²ƒμ΄λ‹¤.

β‡’ Serializable μΈν„°νμ΄μ¤κ°€ ObjectOutputStreamμ΄ μ²λ¦¬ν•  μ μλ” μΈμ¤ν„΄μ¤μ„μ„ λ…μ‹ν•λ“―μ΄

### λ§μ»¤ μ• λ„ν…μ΄μ…κ³Ό λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ•Όν•λ” μƒν™©

**λ§μ»¤ μ• λ„ν…μ΄μ…λ¥Ό μ‚¬μ©ν•΄μ•Ό ν•λ” κ²½μ°**

κ±°λ€ν• μ• λ„ν…μ΄μ… μ‹μ¤ν…μ μ§€μ›μ„ λ°›λ”λ‹¤λ” μ¥μ μ΄ μλ‹¤.

1. μ• λ„ν…μ΄μ…μ„ μ κ·Ή ν™μ©ν•λ” ν”„λ μ„μ›ν¬μ—μ„λ” λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ“°λ” μ½μ΄ μΌκ΄€μ„±μ„ μ§€ν‚¤λ” λ° μ λ¦¬ν•λ‹¤.
2. ν΄λμ¤μ™€ μΈν„°νμ΄μ¤ μ™Έμ ν”„λ΅κ·Έλ¨ μ”μ†(λ¨λ“, ν¨ν‚¤μ§€, ν•„λ“, μ§€μ—­λ³€μ λ“±)μ— λ§ν‚Ήν•΄μ•Όν•  λ•λ” μ• λ„ν…μ΄μ…μ„ μ“Έ μ λ°–μ— μ—†λ‹¤.
3. λ§ν‚Ήμ΄ λ κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ λ°›λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•  μΌμ΄ μ—†λ” κ²½μ°

**λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ‚¬μ©ν•΄μ•Ό  ν•λ” κ²½μ°**

1. λ§ν‚Ήμ΄ λ κ°μ²΄λ¥Ό λ§¤κ°λ³€μλ΅ λ°›λ” λ©”μ„λ“λ¥Ό μ‘μ„±ν•  μΌμ΄ μλ” κ²½μ°
    
    β‡’ ν•΄λ‹Ή λ©”μ„λ“μ λ§¤κ°λ³€μ νƒ€μ…μΌλ΅ μΈν„°νμ΄μ¤λ¥Ό λ°›μ•„ μ»΄νμΌ νƒ€μ„μ— μ¤λ¥λ¥Ό μ΅μ•„ λ‚Ό μ μλ‹¤.
    
2. μƒλ΅ μ¶”κ°€ν•λ” λ©”μ„λ“ μ—†μ΄ λ‹¨μ§€ νƒ€μ… μ •μκ°€ λ©μ μΈ κ²½μ°

### μ •λ¦¬

λ§μ»¤ μΈν„°νμ΄μ¤μ™€ λ§μ»¤ μ• λ„ν…μ΄μ…μ€ κ°μμ μ“°μ„μ΄ μλ‹¤.

μƒλ΅ μ¶”κ°€ν•λ” λ©”μ„λ“ μ—†μ΄ λ‹¨μ§€ νƒ€μ… μ •μκ°€ λ©μ μ΄λΌλ©΄ λ§μ»¤ μΈν„°νμ΄μ¤λ¥Ό μ„ νƒν•μ.

ν΄λμ¤ μΈν„°νμ΄μ¤ μ™Έ ν”„λ΅κ·Έλ¨ μ”μ†μ— λ§ν‚Ήν•΄μ•Ό ν•κ±°λ‚, μ• λ„ν…μ΄μ…μ„ μ κ·Ή ν™μ©ν•λ” ν”„λ μ„μ›ν¬μ μΌλ¶€λ΅ κ·Έ λ§μ»¤λ¥Ό νΈμ…μ‹ν‚¤κ³ μ ν•λ‹¤λ©΄ λ§μ»¤ μ• λ„ν…μ΄μ…μ΄ μ¬λ°”λ¥Έ μ„ νƒμ΄λ‹¤.

**μ μ©λ€μƒμ΄ ElementType.TYPEμΈ λ§μ»¤ μ• λ„ν…μ΄μ…μ„ μ‘μ„±ν•κ³  μλ‹¤λ©΄, λ§μ»¤ μ• λ„ν…μ΄μ… λ€μ‹  λ§μ»¤ μΈν„°νμ΄μ¤κ°€ λ‚«μ§€ μ•μ„ μ§€ κ³ λ―Όμ„ ν•΄λ³΄μ**